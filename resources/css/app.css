/* ===========================================
   CAS Private Care - Main Application Styles
   Import order matters for CSS cascade
   =========================================== */

@import 'tailwindcss';
@import './design-tokens.css';
@import './animations.css';
@import './mobile-fixes.css';
@import './wcag-contrast-fixes.css';
@import './dark-mode.css';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';
@source '../**/*.blade.php';
@source '../**/*.js';

@theme {
    --font-sans: 'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
        'Segoe UI Symbol', 'Noto Color Emoji';
}

/* ===========================================
   Global Base Styles
   =========================================== */

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    height: 100%;
}

body {
    font-family: var(--font-primary);
    line-height: var(--leading-normal);
    color: var(--text-primary);
    background-color: var(--bg-primary);
    min-height: 100%;
    display: flex;
    flex-direction: column;
}

/* Vue App Container - Sticky Footer Support */
#admin-dashboard-app,
#client-dashboard-app,
#caregiver-dashboard-app,
#housekeeper-dashboard-app {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* Vuetify App - Fill height */
.v-application {
    min-height: 100vh !important;
    display: flex !important;
    flex-direction: column !important;
}

/* v-main should be flex container and expand */
.v-main {
    display: flex !important;
    flex-direction: column !important;
    flex: 1 1 auto !important;
}

/* Main wrapper fills v-main and pushes footer to bottom */
.main-wrapper {
    display: flex !important;
    flex-direction: column !important;
    flex: 1 !important;
    min-height: 100% !important;
}

/* Content grows, footer stays at bottom */
.main-wrapper > .content-container {
    flex: 1 0 auto !important;
}

.main-wrapper > .dashboard-footer,
.main-wrapper > footer,
.main-wrapper .dashboard-footer {
    flex-shrink: 0 !important;
    margin-top: auto !important;
    position: static !important;
    width: 100% !important;
}

/* Selection styling */
::selection {
    background-color: rgba(var(--brand-primary-rgb), 0.2);
    color: var(--brand-primary-dark);
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
    background: var(--gray-400);
    border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--gray-500);
}

/* Dark mode scrollbar */
.dark-mode ::-webkit-scrollbar-track,
[data-theme="dark"] ::-webkit-scrollbar-track {
    background: var(--gray-800);
}

.dark-mode ::-webkit-scrollbar-thumb,
[data-theme="dark"] ::-webkit-scrollbar-thumb {
    background: var(--gray-600);
}

/* ===========================================
   Vuetify Input Field Fixes
   Prevent placeholder/label overlap
   =========================================== */

/* Hide placeholder when field has value, is focused, or is dirty */
.v-field--variant-outlined.v-field--active input::placeholder,
.v-field--variant-outlined.v-field--focused input::placeholder,
.v-field--variant-outlined.v-field--dirty input::placeholder {
    opacity: 0 !important;
    color: transparent !important;
}

/* Ensure proper spacing for input content */
.v-field__input {
    padding-top: 8px !important;
}

/* Ensure floating labels have background to not overlap border */
.v-field--active .v-label.v-field-label,
.v-field--dirty .v-label.v-field-label {
    background: white;
    padding: 0 4px;
}

/* ===========================================
   Modal/Dialog header readability
   Prevent white bg + white font (unreadable)
   =========================================== */
/* Fallback: any dialog card first title gets colored bg + white text (avoids white-on-white) */
.v-dialog .v-card > .v-card-title:first-child:not(.terms-header),
.v-dialog .v-card > .v-card-item:first-child {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
    color: white !important;
}
.v-dialog .v-card > .v-card-title:first-child *,
.v-dialog .v-card > .v-card-title:first-child .v-btn,
.v-dialog .v-card .card-header *,
.v-dialog .v-card .assign-dialog-header *,
.v-dialog .v-card .session-blocked-header *,
.v-dialog .v-card .error-modal-header *,
.v-dialog .v-card .maintenance-modal-header * {
    color: white !important;
}
.v-dialog .v-card .terms-header * {
    color: white !important;
}
.v-dialog .v-card .modern-card-header {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
    color: white !important;
}
.v-dialog .v-card .modern-card-header * {
    color: white !important;
}

/* Mobile: ensure modal headers stay readable (override any mobile-fixes that set white bg) */
@media (max-width: 768px) {
    .v-dialog .v-card > .v-card-title:first-child:not(.terms-header),
    .v-dialog .v-card > .v-card-item:first-child,
    .v-overlay__content .v-card > .v-card-title:first-child:not(.terms-header),
    .v-overlay__content .v-card > .v-card-item:first-child {
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
        color: white !important;
    }
    .v-dialog .v-card > .v-card-title:first-child *,
    .v-dialog .v-card > .v-card-title:first-child .v-btn,
    .v-overlay__content .v-card > .v-card-title:first-child *,
    .v-overlay__content .v-card > .v-card-title:first-child .v-btn {
        color: white !important;
    }
    .v-dialog--fullscreen .v-card > .v-card-title:first-child:not(.terms-header),
    .v-dialog--fullscreen .v-card > .v-card-item:first-child {
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%) !important;
        color: white !important;
    }
    .v-dialog--fullscreen .v-card > .v-card-title:first-child *,
    .v-dialog--fullscreen .v-card > .v-card-title:first-child .v-btn {
        color: white !important;
    }
}

